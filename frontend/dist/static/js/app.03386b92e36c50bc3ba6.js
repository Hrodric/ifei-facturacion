webpackJsonp([1],{"44Cs":function(t,e){},"7EpV":function(t,e){},"7Ogj":function(t,e){t.exports="data:image/png;base64,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"},"9M+g":function(t,e){},IAtj:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Tqaz"),r=n("18Sv"),o=n.n(r),i=n("/ocq"),s=(n("Jmt5"),n("9M+g"),n("7+uW")),c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("h1",[this._v("Header")])])}]};var u={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"footer"},[e("h1",[this._v("Rodri's footer")])])}]};var l={name:"App",components:{Header:n("VU/8")({name:"Header"},c,!1,function(t){n("pcV0")},"data-v-4f8e9b30",null).exports,Footer:n("VU/8")({name:"Footer"},u,!1,function(t){n("IAtj")},"data-v-02774c1e",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",[e("div",{attrs:{id:"page-container"}},[e("div",{attrs:{id:"content-wrap"}},[e("div",{staticStyle:{"text-align":"left",padding:"25px"},attrs:{id:"app"}},[e("header"),this._v(" "),e("b-row",[e("b-col",{staticStyle:{"padding-bottom":"30px"}},[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:n("7Ogj"),width:"70px"}})])]),this._v(" "),e("b-col",{staticStyle:{"padding-top":"20px","text-align":"right"}},[this._v("Inscripciones IFEI")])],1),this._v(" "),e("div",{staticStyle:{clear:"both"}}),this._v(" "),e("router-view"),this._v(" "),e("div",{attrs:{id:"footer"}},[e("div",{staticClass:"text-center"},[this._v("\n                IFEI - Instituto Fueguino de Enseñanza Inglesa\n              ")])])],1)])])])},staticRenderFns:[]};var p=n("VU/8")(l,d,!1,function(t){n("OXx8")},null,null).exports,v=n("mvHQ"),m=n.n(v),_=n("Xxa5"),h=n.n(_),b=n("exGp"),f=n.n(b),g=n("mtWM"),x=n.n(g),k=n("NYxO"),w=n("424j");s.default.use(k.a);var y=new k.a.Store({strict:!0,plugins:[Object(w.a)()],state:{token:null,user:null,isUserLoggedIn:!1},mutations:{setUser:function(t,e){t.user=e}},actions:{setUser:function(t,e){(0,t.commit)("setUser",e)}}}),C=function(){return x.a.create({baseURL:"https://ec2-34-207-161-170.compute-1.amazonaws.com:8082",headers:{Authorization:"Bearer "+y.state.token}})},F=function(t){return C().post("login",t)},S=function(t){return C().post("search",{searchTerm:t})},A=function(t){return C().get("getPartner",{params:{id:t}})},O=function(t){return C().get("getPartnerFacturacion",{params:{id:t}})},V=function(t){return C().post("createPartnerFacturacion",{partner:t})},$=function(t){return C().get("getGrupoFamiliar?id="+t)},P=function(t){return C().post("getGrupoFamiliarContactos",{ids:t})},E=function(t){return console.log(t),C().post("getContactTags",{ids:t})},M=function(t){return C().post("updatePartner",{partner:t})},N=function(t){return C().post("updateStudent",{student:t})},D=function(t){return C().post("updateTask",{task:t})},R=function(t){return C().get("getStudents",{params:{id:t}})},Y=function(){return C().get("getProductos",{})},z=function(t,e,n){return C().post("confirmSo",{grupoFamiliar:t,student:e,clase:n})},B=function(t,e){return C().post("updateTaskName",{alumno:t,orderLineId:e})},j=function(t,e){return C().get("stage_task_count",{params:{taskStageId:t,projectId:e}})},I=function(t){return console.log(t),C().get("getSos",{params:{studentId:t}})},U=function(t){return C().get("getTaskProjectName",{params:{id:t}})},G=function(t){return C().get("getSoTask",{params:{id:t}})},H=function(t){return console.log(t),C().get("getOrderLine",{params:{id:t}})},q=function(t){return C().post("crear_factura",{grupoFamiliar:t})},L=function(t,e){return console.log(t),C().post("crear_linea_factura",{invoiceId:t,linea:e})},T=function(t){return C().get("get_task_types",{params:{id:t}})},W=function(t,e,n,a){return C().post("crear_contacto",{grupoFamiliar:t,contacto:e,dni:n,telefono:a,relacion:relacion})},Z={data:function(){return{dni:"32165498",pass:"123",error:null,search:"",responseSearch:[],isLoading:!1,changed:!1,searchingTerm:""}},created:function(){this.$session.start()},methods:{crearGF:function(){this.$router.push("/grupo_familiar")},seleccionarGF:function(t){this.$session.set("id_grupo_familiar",t),this.$router.push("/alumnos")},seleccionarAlumno:function(t){var e=this;return f()(h.a.mark(function n(){var a;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoading=!0,e.$session.set("id_grupo_familiar",t.parent_id[0]),n.next=4,A(t.id);case 4:a=n.sent,e.$session.set("alumno",a.data),e.$router.push("/clases");case 7:case"end":return n.stop()}},n,e)}))()},searchPartner:function(){var t=this;return f()(h.a.mark(function e(){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoading||t.searchingTerm===t.search||!(t.search.length>=3)){e.next=8;break}return t.isLoading=!0,t.searchingTerm=t.search,e.next=5,S(t.search);case 5:n=e.sent,t.isLoading=!1,t.searchingTerm!==t.search?t.searchPartner():(t.responseSearch=n.data,console.log("=====Rta:"+m()(n.data)));case 8:case"end":return e.stop()}},e,t)}))()},login:function(){var t=this;return f()(h.a.mark(function e(){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({dni:t.dni,pass:t.pass,responseA:{}});case 2:n=e.sent,console.log(n),200===n.status&&(t.$session.start(),t.$session.set("jwt",n.data.token),t.$session.set("id_contacto",n.data.id),t.$session.set("nombre",n.data.nombre),t.$router.push("/informacion_de_contacto"));case 5:case"end":return e.stop()}},e,t)}))()},verPartnerEnOdoo:function(t){var e="http://ifei.moogah.com/web#id="+t+"&view_type=form&model=res.partner&menu_id=70&action=77";window.open(e,"_blank")},handleBlur:function(){}}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-card",[n("b-container",[n("p",[t._v("Para crear un nuevo Grupo Familiar, presione:")]),t._v(" "),n("b-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.crearGF()}}},[t._v("\n          Crear")])],1),t._v(" "),n("br"),t._v(" "),n("b-container",[n("p",[t._v("Para buscar un Grupo Familiar, complete el siguiente campo:")]),t._v(" "),n("b-form-input",{attrs:{placeholder:"Buscar"},on:{input:t.searchPartner,change:t.searchPartner,blur:t.handleBlur},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),t.isLoading?t._e():n("ul",t._l(t.responseSearch,function(e,a){return n("li",{key:a,staticStyle:{display:"block","margin-top":"10px"}},[n("b-button-group",{attrs:{size:"sm"}},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(n){return t.verPartnerEnOdoo(e.id)}}},[t._v("\n                Ver en Odoo\n              ")]),t._v(" "),e.parent_id?t._e():n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(n){return t.seleccionarGF(e.id)}}},[t._v("\n                Seleccionar Grupo Familiar\n              ")]),t._v(" "),"Student"==e.title[1]?n("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(n){return t.seleccionarAlumno(e)}}},[t._v("\n                Seleccionar Alumno\n              ")]):t._e()],1),t._v(" "),n("span",{staticStyle:{"font-size":"1em"}},[t._v(t._s(e.name)+","+t._s(e.parent_id[1]))])],1)}),0),t._v(" "),t.isLoading?n("div",{staticClass:"text-center"},[n("br"),t._v(" "),n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h5",[t._v("Cargando...")])],1):t._e()],1)],1)},staticRenderFns:[]};var X=n("VU/8")(Z,J,!1,function(t){n("7EpV")},"data-v-89398e4e",null).exports,K=(n("/Luh"),{data:function(){return{familia:{},responsable:{},id:"",nombre:""}},created:function(){var t=f()(h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.nombre=this.$session.get("nombre"),t.next=4,A(this.$session.get("id_contacto"));case 4:e=t.sent,console.log(e.data.mobile),e.data.mobile||(e.data.mobile=" "),e.data.email||(e.data.email=" "),e.data.street||(e.data.street=" "),this.responsable={id:e.data.id,nombre:e.data.name,email:e.data.email,celular:e.data.mobile,direccion:e.data.street},this.familia={id:e.data.parent_id[0],nombre:e.data.parent_id[1]},this.$session.set("id_familia",e.data.parent_id[0]),console.log(this.familia),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}},t,this,[[0,15]])}));return function(){return t.apply(this,arguments)}}(),beforeCreate:function(){console.log(this.$session.exists()),this.$session.exists()||this.$router.push("/")},methods:{logout:function(){this.$session.destroy(),this.$router.push("/")},guardarContacto:function(){var t=f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(this.responsable);case 2:t.sent,this.$router.push("/informacion_de_alumnos");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}),Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:t.logout}},[t._v("Salir")]),t._v(" "),n("h1",[t._v("Completa tus datos")]),t._v(" "),n("p",[t._v("\n    Hola "+t._s(t.nombre)+", como adulto responsable, para que podamos conocerte\n    mas.\n  ")]),t._v(" "),n("p",[t._v("todos los campos son obligatorios")]),t._v(" "),n("p",[t._v("Familia")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.familia.nombre,expression:"familia.nombre"}],attrs:{type:"text"},domProps:{value:t.familia.nombre},on:{input:function(e){e.target.composing||t.$set(t.familia,"nombre",e.target.value)}}}),t._v(" "),n("p",[t._v("Nombre y Apellido")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.responsable.nombre,expression:"responsable.nombre"}],attrs:{type:"text"},domProps:{value:t.responsable.nombre},on:{input:function(e){e.target.composing||t.$set(t.responsable,"nombre",e.target.value)}}}),t._v(" "),n("p",[t._v("Email")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.responsable.email,expression:"responsable.email"}],attrs:{type:"text"},domProps:{value:t.responsable.email},on:{input:function(e){e.target.composing||t.$set(t.responsable,"email",e.target.value)}}}),t._v(" "),n("p",[t._v("Celular")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.responsable.celular,expression:"responsable.celular"}],attrs:{type:"text"},domProps:{value:t.responsable.celular},on:{input:function(e){e.target.composing||t.$set(t.responsable,"celular",e.target.value)}}}),t._v(" "),n("p",[t._v("Dirección")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.responsable.direccion,expression:"responsable.direccion"}],attrs:{type:"text"},domProps:{value:t.responsable.direccion},on:{input:function(e){e.target.composing||t.$set(t.responsable,"direccion",e.target.value)}}}),t._v(" "),n("p",[t._v("a")]),t._v(" "),n("button",{on:{click:t.guardarContacto}},[t._v("Continuar")])])},staticRenderFns:[]},tt=n("VU/8")(K,Q,!1,null,null,null).exports,et={data:function(){return{alumnos:{}}},created:function(){var t=f()(h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.nombre=this.$session.get("nombre"),t.next=4,R(this.$session.get("id_familia"));case 4:e=t.sent,this.alumnos=e.data,console.log(this.alumnos),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),beforeCreate:function(){console.log(this.$session.exists()),this.$session.exists()||this.$router.push("/")},methods:{logout:function(){this.$session.destroy(),this.$router.push("/")},updateStudents:function(){var t=f()(h.a.mark(function t(){var e=this;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(this.alumnos),this.alumnos.forEach(function(){var t=f()(h.a.mark(function t(n){var a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,N(n);case 3:a=t.sent,console.log(a);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:t.logout}},[t._v("Salir")]),t._v(" "),t._l(t.alumnos,function(e,a){return n("div",{key:a},[t._v("\n    "+t._s(e.name)+"\n    "),n("p",[t._v("Nombre")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"alumno.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}}),t._v(" "),n("p",[t._v("Fecha de nacimiento")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.fax,expression:"alumno.fax"}],attrs:{type:"text"},domProps:{value:e.fax},on:{input:function(n){n.target.composing||t.$set(e,"fax",n.target.value)}}}),t._v(" "),n("p",[t._v("Email")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"alumno.email"}],attrs:{type:"text"},domProps:{value:e.email},on:{input:function(n){n.target.composing||t.$set(e,"email",n.target.value)}}})])}),t._v(" "),n("button",{on:{click:t.updateStudents}},[t._v("Siguiente")])],2)},staticRenderFns:[]};var at=n("VU/8")(et,nt,!1,function(t){n("44Cs")},"data-v-7615b7eb",null).exports,rt=function(t){return C().post("npt_crear_grupo_familiar",{gf:t})},ot=function(t,e,n){return C().post("npt_crear_alumno",{grupoFamiliar:t,alumno:e,dni:n})},it=function(t){return console.log(t),C().get("npt_get_pago",{params:{id:t}})},st=function(t){return C().get("npt_get_pagos_mes",{params:{mes:t}})},ct=function(t){return C().post("npt_registrar_factura",{data:t})},ut={data:function(){return{gf:{name:"",email:"",id_number:"",telefono:"",contact_name:"",direccion:""},isLoading:!1,mensajeCargando:""}},methods:{crearGrupo:function(){var t=f()(h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,this.mensajeCargando="Creando al grupo familiar",t.next=4,rt(this.gf);case 4:e=t.sent,this.$session.set("id_grupo_familiar",e.data),this.$router.push("/alumnos");case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),volver:function(){this.$router.push("/")}}},lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[t.isLoading?t._e():n("div",[n("b-card",{attrs:{title:"Crear Grupo Familiar"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Apellido"},model:{value:t.gf.name,callback:function(e){t.$set(t.gf,"name",e)},expression:"gf.name"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Nombre de Contacto"},model:{value:t.gf.contact_name,callback:function(e){t.$set(t.gf,"contact_name",e)},expression:"gf.contact_name"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"DNI"},model:{value:t.gf.id_number,callback:function(e){t.$set(t.gf,"id_number",e)},expression:"gf.id_number"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Dirección"},model:{value:t.gf.direccion,callback:function(e){t.$set(t.gf,"direccion",e)},expression:"gf.direccion"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Teléfono de Contacto"},model:{value:t.gf.telefono,callback:function(e){t.$set(t.gf,"telefono",e)},expression:"gf.telefono"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Email"},model:{value:t.gf.email,callback:function(e){t.$set(t.gf,"email",e)},expression:"gf.email"}}),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.volver()}}},[t._v("Volver")]),t._v(" "),n("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.crearGrupo()}}},[t._v("Crear")])],1)],1),t._v(" "),t.isLoading?n("div",{staticClass:"text-center"},[n("br"),t._v(" "),n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h1",[t._v("Cargando...")]),t._v(" "),n("p",[t._v(t._s(t.mensajeCargando))])],1):t._e()])},staticRenderFns:[]},dt=n("VU/8")(ut,lt,!1,null,null,null).exports,pt=n("VU/8")(null,null,!1,null,null,null).exports,vt={data:function(){return{grupoFamiliar:{},contactos:[],nombre_alumno_nuevo:"",dni_alumno_nuevo:"",nombre_contacto_nuevo:"",dni_contacto_nuevo:"",loading:!0,loadingMsg:"",sos:[],noeditable:0,tel_contacto_nuevo:"",category_id:""}},created:function(){var t=f()(h.a.mark(function t(){var e,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingMsg="Cargando Grupo Familiar.",t.next=3,$(this.$session.get("id_grupo_familiar"));case 3:return this.grupoFamiliar=t.sent,this.grupoFamiliar=this.grupoFamiliar.data[0],this.$session.set("grupoFamiliar",this.grupoFamiliar),this.loadingMsg="Cargando Contactos.",t.next=9,P(this.grupoFamiliar.child_ids);case 9:this.contactos=t.sent,this.contactos=this.contactos.data,console.log("WTF"),console.log(this.grupoFamiliar),console.log(this.contactos),e=0;case 15:if(!(e<this.contactos.length)){t.next=38;break}return this.loadingMsg="Procesando Contactos:... "+this.contactos[e].name,t.next=19,I(this.contactos[e].id);case 19:return this.contactos[e].sos=t.sent,t.next=22,E(this.contactos[e].category_id);case 22:this.contactos[e].tags=t.sent,console.log("procesando contacto "+e),n=0;case 25:if(!(n<this.contactos[e].task_ids.length)){t.next=33;break}return t.next=28,U(this.contactos[e].task_ids[n]);case 28:this.contactos[e].task_ids[n]=t.sent,this.contactos[e].task_ids[n]=this.contactos[e].task_ids[n].data;case 30:n++,t.next=25;break;case 33:this.contactos[e].editable=!1,console.log(this.contactos[e].tags);case 35:e++,t.next=15;break;case 38:this.loading=!1,console.log("ASDASDASDASDASD"),console.log(this.contactos);case 41:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{forceRerender:function(){this.noeditable+=1},seleccionarAlumno:function(){var t=f()(h.a.mark(function t(e){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),this.$session.set("alumno",e),this.$router.push("/clases");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),eliminarSo:function(){var t=f()(h.a.mark(function t(e){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:alert(e);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),volver:function(){this.$router.push("/")},facturar:function(){this.$router.push("/facturar")},crearContacto:function(){this.$router.push("/crear_contacto")},seleccionarHorario:function(t){this.$session.set("saleOrderId",t),this.$router.push("/seleccionar_horario")},verSoEnOdoo:function(t){var e="http://ifei.moogah.com/web#id="+t+"&view_type=form&model=sale.order&menu_id=121&action=305";window.open(e,"_blank")},verPartnerEnOdoo:function(t){var e="http://ifei.moogah.com/web#id="+t+"&view_type=form&model=res.partner&menu_id=70&action=77";window.open(e,"_blank")},guardarPartner:function(t){var e=this;return f()(h.a.mark(function n(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Datos de contact: "+t),e.next=3,M({id:t.id,nombre:t.name,phone:t.phone,main_id_number:t.main_id_number,main_id_category_id:35,email:t.email,celular:t.mobile,direccion:t.street});case 3:case"end":return e.stop()}},n,e)}))()}}},mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{title:""}},[n("h4",[t._v(t._s(t.grupoFamiliar.name))]),t._v(" "),t.loading?n("div",{staticClass:"container-fluid text-center"},[n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h1",[t._v("Cargando...")]),t._v(" "),n("div",[t._v(t._s(t.loadingMsg))])],1):t._e(),t._v(" "),t.loading?t._e():n("div",[n("b-container",[n("b-row",[n("b-col",[t._v("\n          Direccion:\n          "),n("br"),t._v("\n          "+t._s(t.grupoFamiliar.street)+"\n        ")]),t._v(" "),n("b-col",[t._v("\n          Dni:\n          "),n("br"),t._v("\n          "+t._s(t.grupoFamiliar.main_id_number)+"\n        ")]),t._v(" "),n("b-col",[t._v("\n          email:\n          "),n("br"),t._v("\n          "+t._s(t.grupoFamiliar.email)+"\n        ")]),t._v(" "),n("b-col",[t._v("\n          tel:\n          "),n("br"),t._v("\n          "+t._s(t.grupoFamiliar.phone)+"\n        ")]),t._v(" "),n("b-col",[t._v("\n          cel:\n          "),n("br"),t._v("\n          "+t._s(t.grupoFamiliar.mobile)+"\n        ")])],1),t._v(" "),n("b-row",{staticStyle:{"margin-top":"10px"}},[n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.verPartnerEnOdoo(t.grupoFamiliar.id)}}},[t._v("Ver en Odoo")]),t._v(" "),n("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.crearContacto()}}},[t._v("Nuevo Contacto/Alumno dentro de la Familia")])],1)],1),t._v(" "),n("hr"),t._v(" "),n("b-container",[n("b-row",[n("b-col",[n("div",[n("h5",[t._v("Contactos en la "+t._s(t.grupoFamiliar.name)+":")]),t._v(" "),t._l(t.contactos,function(e,a){return n("b-card-group",{key:a,attrs:{deck:""}},["Student"!==e.title[1]?n("b-card",{attrs:{disabled:"","border-variant":"primary","img-src":"../static/adulto-tutor-300x225.png","img-width":"120px","img-height":"90px","img-alt":"adulto tutor","img-right":""}},[n("b-card-title",[t._v(t._s(e.name))]),t._v(" "),e.editable?n("div",[n("b-container",{staticClass:"datos-personales"},[n("div",{attrs:{role:"group"}},[n("label",[t._v("Nombre:")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Nombre"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"contact.name"}}),t._v(" "),n("label",[t._v("Telefono")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Tel:"},model:{value:e.phone,callback:function(n){t.$set(e,"phone",n)},expression:"contact.phone"}}),t._v(" "),n("label",[t._v("Celular")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Cel:"},model:{value:e.mobile,callback:function(n){t.$set(e,"mobile",n)},expression:"contact.mobile"}}),t._v(" "),n("label",[t._v("Email")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Email:"},model:{value:e.email,callback:function(n){t.$set(e,"email",n)},expression:"contact.email"}}),t._v(" "),n("label",[t._v("DNI")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"DNI"},model:{value:e.main_id_number,callback:function(n){t.$set(e,"main_id_number",n)},expression:"contact.main_id_number"}})],1)])],1):n("div",[n("b-container",{staticClass:"datos-personales"},[n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Tel:")]),t._v("\n                      "+t._s(e.phone)+"\n                    ")]),t._v(" "),n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Cel:")]),t._v("\n                      "+t._s(e.mobile)+"\n                    ")]),t._v(" "),n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Email:")]),t._v("\n                      "+t._s(e.email)+"\n                    ")]),t._v(" "),n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Direccion:")]),t._v("\n                      "+t._s(e.street)+"\n                    ")]),t._v(" "),n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Relacion:")]),t._v(" "),t._l(e.tags.data,function(e,a){return n("div",{key:a},[n("b-badge",[t._v(t._s(e))])],1)})],2),t._v(" "),n("b-row",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("DNI:")]),t._v("\n                      "+t._s(e.main_id_number)+"\n                    ")])],1),t._v(" "),n("br")],1),t._v(" "),e.editable?t._e():n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return t.verPartnerEnOdoo(e.id)}}},[t._v("Ver en Odoo")]),t._v(" "),e.editable?t._e():n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(t){e.editable=!e.editable}}},[t._v("Editar")]),t._v(" "),e.editable?n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(t){e.editable=!e.editable}}},[t._v("Cancelar")]):t._e(),t._v(" "),e.editable?n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.guardarPartner()}}},[t._v("Guardar")]):t._e(),t._v(" "),e.editable?n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return t.guardarPartner(e)}}},[t._v("Guardar")]):t._e()],1):t._e()],1)})],2),t._v(" "),n("h5",[t._v("Alumnos existentes")]),t._v(" "),t._l(t.contactos,function(e,a){return n("b-card-group",{key:"xx"+a,attrs:{deck:""}},["Student"===e.title[1]?n("b-card",{attrs:{"border-variant":"secondary","img-src":"../static/alumnx-300x225.png","img-width":"120px","img-height":"90px","img-alt":"alumno","img-right":""}},[n("b-card-title",[t._v(t._s(e.name))]),t._v(" "),e.editable?n("div",[n("b-container",{staticClass:"datos-personales"},[n("label",[t._v("Nombre:")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Nombre"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"contact.name"}}),t._v(" "),n("label",[t._v("Celular:")]),t._v(" "),n("b-form-input",{attrs:{type:"text",id:"input-tel",placeholder:"Cel:"},model:{value:e.mobile,callback:function(n){t.$set(e,"mobile",n)},expression:"contact.mobile"}}),t._v(" "),n("label",[t._v("Email:")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Email:"},model:{value:e.email,callback:function(n){t.$set(e,"email",n)},expression:"contact.email"}}),t._v(" "),n("label",[t._v("DNI:")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"DNI"},model:{value:e.main_id_number,callback:function(n){t.$set(e,"main_id_number",n)},expression:"contact.main_id_number"}})],1)],1):n("div",[n("b-container",{staticClass:"datos-personales"},[n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Cel:")]),t._v("\n                    "+t._s(e.mobile)+"\n                  ")]),t._v(" "),n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Email:")]),t._v("\n                    "+t._s(e.email)+"\n                  ")]),t._v(" "),n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("DNI:")]),t._v("\n                    "+t._s(e.main_id_number)+"\n                  ")]),t._v(" "),n("b-row",{staticClass:"text-sm-right"},[n("b",[t._v("Clase:")]),t._v(" "),t._l(e.task_ids,function(e,a){return n("div",{key:a},[n("b-badge",[t._v(t._s(e))])],1)})],2)],1),t._v(" "),n("br")],1),t._v(" "),n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return t.verPartnerEnOdoo(e.id)}}},[t._v("Ver en Odoo")]),t._v(" "),e.editable?t._e():n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(t){e.editable=!e.editable}}},[t._v("Editar")]),t._v(" "),e.editable?n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(t){e.editable=!e.editable}}},[t._v("Cancelar")]):t._e(),t._v(" "),e.editable?n("b-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.guardarPartner()}}},[t._v("Guardar")]):t._e()],1):t._e()],1)}),t._v(" "),n("br")],2)],1),t._v(" "),n("b-col",[n("br")])],1),t._v(" "),n("br"),t._v(" "),n("hr"),t._v(" "),n("h4",[t._v("Ordenes de Venta")]),t._v(" "),n("b-container",t._l(t.contactos,function(e,a){return n("b-container",{key:"co"+a},[e.sos?n("ul",t._l(e.sos.data,function(e,a){return n("li",{key:"so"+a},[t._v("\n            "+t._s(e.name)+",\n            $"+t._s(e.amount_total)+"\n            "),n("button",{on:{click:function(n){return t.verSoEnOdoo(e.id)}}},[t._v("Ver SO")]),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.seleccionarAlumno(t.alumno)}}},[t._v("Seleccionar Horario")])],1)}),0):t._e()])}),1),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.volver()}}},[t._v("Volver")]),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.facturar()}}},[t._v("Crear Factura Borrador")])],1)])},staticRenderFns:[]};var _t=n("VU/8")(vt,mt,!1,function(t){n("iEXf")},null,null).exports,ht={data:function(){return{alumno:{},grupoFamiliar:{},clases:{}}},created:function(){var t=f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.alumno=this.$session.get("alumno"),console.log(this.alumno),t.next=4,$(this.$session.get("id_grupo_familiar"));case 4:return this.grupoFamiliar=t.sent,this.grupoFamiliar=this.grupoFamiliar.data[0],t.next=8,Y();case 8:this.clases=t.sent;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{seleccionarCurso:function(){var t=f()(h.a.mark(function t(e){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$session.set("clase",e),this.$router.push("/confirm_so");case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),volver:function(){this.$router.push("/alumnos")}}},bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("h3",[t._v("Alumno "+t._s(t.alumno.name)+", "+t._s(t.grupoFamiliar.name))]),t._v(" "),n("b-card",{attrs:{header:"Seleccionar Curso:",disabled:""}},[n("b-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){t.verClasesEnOdoo()}}},[t._v("\n          Ver en Odoo\n        ")]),t._v(" "),t._l(this.clases.data,function(e,a){return n("b-list-group",{key:"clase"+a,on:{click:function(n){return t.seleccionarCurso(e)}}},[n("b-list-group-item",{attrs:{button:""}},[t._v(t._s(e.name)+", $ "+t._s(e.list_price))])],1)})],2),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.volver()}}},[t._v("Volver")])],1)},staticRenderFns:[]},ft=n("VU/8")(ht,bt,!1,null,null,null).exports,gt={data:function(){return{alumno:{},grupoFamiliar:{},clase:{},loading:!0,loadingMsg:""}},created:function(){var t=f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.alumno=this.$session.get("alumno"),this.grupoFamiliar=this.$session.get("grupoFamiliar"),this.clase=this.$session.get("clase"),this.loading=!1,console.log(this.alumno),console.log(this.grupoFamiliar),console.log(this.clase);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{confirmarSo:function(){var t=f()(h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,this.loadingMsg="Creando Orden de Ventas",t.next=4,z(this.grupoFamiliar,this.alumno,this.clase);case 4:return e=t.sent,this.loadingMsg="Actualizando nombre de tarea",t.next=8,B(this.alumno,e.data.orderLineId);case 8:this.$router.push("/alumnos"),console.log(this.alumno.parent_id);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),volver:function(){this.$router.push("/clases")}}},xt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[t.loading?n("b-container",{staticClass:"text-center"},[n("br"),t._v(" "),n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h1",[t._v("Cargando...")]),t._v(" "),n("p",[t._v(t._s(t.loadingMsg))])],1):t._e(),t._v(" "),n("h3",[t._v("Alumno "+t._s(t.alumno.name)+", "+t._s(t.grupoFamiliar.name))]),t._v(" "),n("b-card",{attrs:{header:"Verificar Información:",disabled:""}},[t.loading?t._e():n("b-list-group",[n("b-list-group-item",{attrs:{button:""}},[t._v(t._s(t.grupoFamiliar.name))]),t._v(" "),n("b-list-group-item",{attrs:{button:""}},[t._v("Alumno: "+t._s(t.alumno.name))]),t._v(" "),n("b-list-group-item",{attrs:{button:""}},[t._v("Producto: "+t._s(t.clase.name))])],1),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.confirmarSo()}}},[t._v("Confirmar Preinscripción")]),t._v(" "),n("p",{staticStyle:{"margin-top":"10px"},attrs:{disabled:""}},[t._v("Este paso implica que se crea la orden de venta de la preinscripción y se confirma ocupando un cupo.")])],1),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.volver()}}},[t._v("Volver")])],1)},staticRenderFns:[]},kt=n("VU/8")(gt,xt,!1,null,null,null).exports,wt={data:function(){return{grupoFamiliar:{},contactos:[],nombre_alumno_nuevo:"",dni_alumno_nuevo:"",nombre_contacto_nuevo:"",dni_contacto_nuevo:"",tel_contacto_nuevo:"",category_id:"",loading:!0,loadingMsg:"",sos:[]}},created:function(){var t=f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingMsg="Cargando Grupo Familiar.",t.next=3,$(this.$session.get("id_grupo_familiar"));case 3:this.grupoFamiliar=t.sent,this.grupoFamiliar=this.grupoFamiliar.data[0],this.$session.set("grupoFamiliar",this.grupoFamiliar),this.loading=!1;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{crearAlumno:function(){var t=f()(h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=this.nombre_alumno_nuevo){t.next=4;break}alert("El nombre no puede estar vacio."),t.next=15;break;case 4:if(""!=this.dni_alumno_nuevo){t.next=8;break}alert("El dni no puede estar vacio."),t.next=15;break;case 8:return this.loading=!0,this.loadingMsg="Creado Alumno",t.next=12,ot(this.grupoFamiliar,this.nombre_alumno_nuevo,this.dni_alumno_nuevo);case 12:e=t.sent,this.$session.set("alumno",e),this.$router.push("/alumnos");case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),crearContacto:function(){var t=f()(h.a.mark(function t(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=this.nombre_contacto_nuevo){t.next=4;break}alert("El nombre no puede estar vacio."),t.next=15;break;case 4:if(""!=this.dni_contacto_nuevo){t.next=8;break}alert("El dni no puede estar vacio."),t.next=15;break;case 8:return this.loading=!0,this.loadingMsg="Creando Contacto",t.next=12,W(this.grupoFamiliar,this.nombre_contacto_nuevo,this.dni_contacto_nuevo,this.tel_contacto_nuevo);case 12:e=t.sent,this.$session.set("alumno",e),this.$router.push("/alumnos");case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),volver:function(){this.$router.push("/alumnos")}}},yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{attrs:{title:""}},[n("h5",[t._v(t._s(t.grupoFamiliar.name))]),t._v(" "),n("b-container",{attrs:{fluid:""}},[t.loading?n("b-container",{staticClass:"text-center"},[n("br"),t._v(" "),n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h5",[t._v("Cargando...")]),t._v(" "),n("p",[t._v(t._s(t.loadingMsg))])],1):t._e(),t._v(" "),t.loading?t._e():n("div",[n("b-container",{staticStyle:{padding:"20px"}},[n("b-row",[n("b-col",[n("h4",[t._v("Crear Contacto")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Nombre"},model:{value:t.nombre_contacto_nuevo,callback:function(e){t.nombre_contacto_nuevo=e},expression:"nombre_contacto_nuevo"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"DNI"},model:{value:t.dni_contacto_nuevo,callback:function(e){t.dni_contacto_nuevo=e},expression:"dni_contacto_nuevo"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Teléfono"},model:{value:t.tel_contacto_nuevo,callback:function(e){t.tel_contacto_nuevo=e},expression:"tel_contacto_nuevo"}}),t._v(" "),n("b-form-select",{staticClass:"mt-3",attrs:{options:t.options,size:"sm"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.crearContacto()}}},[t._v("Crear Contacto")])],1),t._v(" "),n("b-col",[n("h4",[t._v("Crear Alumno")]),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"Nombre"},model:{value:t.nombre_alumno_nuevo,callback:function(e){t.nombre_alumno_nuevo=e},expression:"nombre_alumno_nuevo"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:"DNI"},model:{value:t.dni_alumno_nuevo,callback:function(e){t.dni_alumno_nuevo=e},expression:"dni_alumno_nuevo"}}),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.crearAlumno()}}},[t._v("Crear Alumno")])],1)],1)],1),t._v(" "),n("br"),t._v(" "),n("br")],1)],1),t._v(" "),n("br"),t._v(" "),n("b-container",[n("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.volver()}}},[t._v("Volver")])],1)],1)},staticRenderFns:[]},Ct=n("VU/8")(wt,yt,!1,null,null,null).exports,Ft=n("BO1k"),St=n.n(Ft),At={data:function(){return{loading:!0,loadingMsg:""}},created:function(){var t=f()(h.a.mark(function t(){var e,n,a,r,o,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingMsg="Cargando Inscripcion.",t.next=3,G(this.$session.get("saleOrderId"));case 3:return this.task=t.sent,this.task=this.task.data[0],console.log(this.task),this.loadingMsg="Cargando horarios disponibles.",t.next=9,T(this.task.project_id[0]);case 9:this.horarios=t.sent,console.log(this.horarios),e=!0,n=!1,a=void 0,t.prev=14,r=St()(this.horarios.data);case 16:if(e=(o=r.next()).done){t.next=24;break}return i=o.value,t.next=20,j(i.id,this.task.project_id[0]);case 20:i.inscriptos=t.sent;case 21:e=!0,t.next=16;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(14),n=!0,a=t.t0;case 30:t.prev=30,t.prev=31,!e&&r.return&&r.return();case 33:if(t.prev=33,!n){t.next=36;break}throw a;case 36:return t.finish(33);case 37:return t.finish(30);case 38:this.horarios=this.horarios.data,console.log(this.horarios),this.loading=!1;case 41:case"end":return t.stop()}},t,this,[[14,26,30,38],[31,,33,37]])}));return function(){return t.apply(this,arguments)}}(),methods:{volver:function(){this.$router.push("/alumnos")},seleccionarHorario:function(){var t=f()(h.a.mark(function t(e){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,this.loadingMsg="Cargando",this.task.stage_id=e,t.next=5,D(this.task);case 5:this.$router.push("/alumnos");case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),verTask:function(t){var e="http://ifei.moogah.com/web#id="+t+"&view_type=form&model=project.task";window.open(e,"_blank")},verCurso:function(t){var e="http://ifei.moogah.com/web#active_id="+t+"&view_type=kanban&model=project.task&action=500";window.open(e,"_blank")}}},Ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("b-container",{staticClass:"text-center"},[n("br"),t._v(" "),n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h1",[t._v("Cargando...")]),t._v(" "),n("p",[t._v(t._s(t.loadingMsg))])],1):t._e(),t._v(" "),n("b-container",{attrs:{fluid:""}},[n("b-card",{attrs:{header:"Inscripción:",disabled:""}},[t.loading?t._e():n("b-list-group",[n("b-list-group-item",{attrs:{button:""}},[t._v(t._s(this.task.partner_id[1])+", "+t._s(this.task.project_id[1]))]),t._v(" "),n("b-list-group-item",{attrs:{button:""}},[t._v("Horario Seleccionado: "+t._s(this.task.stage_id[1]))]),t._v(" "),n("b-list-group-item",{key:t.item.id,attrs:{"buttonv-for":"item in this.horarios"},on:{click:function(e){return t.seleccionarHorario(t.item.id)}}},[t._v(t._s(t.item.name)+"\n        ")]),t._v(" "),n("button",{on:{click:function(e){return t.verTask(t.task.id)}}},[t._v("Ver Inscripcion en Odoo")]),t._v(" "),n("button",{on:{click:function(e){return t.verCurso(t.task.project_id[0])}}},[t._v("Ver curso en Odoo")])],1),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.confirmarSo()}}},[t._v("Confirmar Preinscripción")]),t._v(" "),n("p",{attrs:{disabled:""}},[t._v("Este paso implica que se crea la orden de venta de la preinscripción y se confirma ocupando un cupo.")])],1),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.volver()}}},[t._v("Volver")])],1)],1)},staticRenderFns:[]},Vt=n("VU/8")(At,Ot,!1,null,null,null).exports,$t={data:function(){return{loading:!0,loadingMsg:"",sos:[],total:0}},created:function(){var t=f()(h.a.mark(function t(){var e,n,a,r,o,i,s,c,u,l,d,p,v;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingMsg="Cargando Grupo Familiar.",t.next=3,$(this.$session.get("id_grupo_familiar"));case 3:return this.grupoFamiliar=t.sent,this.grupoFamiliar=this.grupoFamiliar.data[0],this.$session.set("grupoFamiliar",this.grupoFamiliar),this.loadingMsg="Cargando Contactos.",t.next=9,P(this.grupoFamiliar.child_ids);case 9:this.contactos=t.sent,this.contactos=this.contactos.data,this.grupoFamiliar.sos=[],e=!0,n=!1,a=void 0,t.prev=15,r=St()(this.contactos);case 17:if(e=(o=r.next()).done){t.next=27;break}return i=o.value,this.loadingMsg="Procesando Contactos:... "+i.name,t.next=22,I(i.id);case 22:i.sos=t.sent,void 0!=i.sos.data[0]&&this.grupoFamiliar.sos.push(i.sos.data);case 24:e=!0,t.next=17;break;case 27:t.next=33;break;case 29:t.prev=29,t.t0=t.catch(15),n=!0,a=t.t0;case 33:t.prev=33,t.prev=34,!e&&r.return&&r.return();case 36:if(t.prev=36,!n){t.next=39;break}throw a;case 39:return t.finish(36);case 40:return t.finish(33);case 41:this.invoice_lines=[],this.loadingMsg="Procesando Ventas:... ",s=!0,c=!1,u=void 0,t.prev=46,l=St()(this.grupoFamiliar.sos);case 48:if(s=(d=l.next()).done){t.next=58;break}return p=d.value,t.next=52,H(p[0].order_line[0]);case 52:v=t.sent,this.invoice_lines.push(v.data[0]),this.total=this.total+parseInt(v.data[0].price_unit);case 55:s=!0,t.next=48;break;case 58:t.next=64;break;case 60:t.prev=60,t.t1=t.catch(46),c=!0,u=t.t1;case 64:t.prev=64,t.prev=65,!s&&l.return&&l.return();case 67:if(t.prev=67,!c){t.next=70;break}throw u;case 70:return t.finish(67);case 71:return t.finish(64);case 72:console.log(this.invoice_lines),this.loading=!1;case 74:case"end":return t.stop()}},t,this,[[15,29,33,41],[34,,36,40],[46,60,64,72],[65,,67,71]])}));return function(){return t.apply(this,arguments)}}(),methods:{volver:function(){this.$router.push("/alumnos")},crearFactura:function(){var t=f()(h.a.mark(function t(){var e,n,a,r,o,i,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,this.loadingMsg="Creando nueva factura borrador ...",t.next=4,q(this.grupoFamiliar);case 4:e=t.sent,n=!0,a=!1,r=void 0,t.prev=8,o=St()(this.invoice_lines);case 10:if(n=(i=o.next()).done){t.next=17;break}return s=i.value,t.next=14,L(e.data.Result,s);case 14:n=!0,t.next=10;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(8),a=!0,r=t.t0;case 23:t.prev=23,t.prev=24,!n&&o.return&&o.return();case 26:if(t.prev=26,!a){t.next=29;break}throw r;case 29:return t.finish(26);case 30:return t.finish(23);case 31:this.$router.push("alumnos");case 32:case"end":return t.stop()}},t,this,[[8,19,23,31],[24,,26,30]])}));return function(){return t.apply(this,arguments)}}()}},Pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",{attrs:{fluid:""}},[n("b-card",{attrs:{header:"NUEVA FACTURACIÓN",disabled:""}},[t.loading?n("b-container",{staticClass:"text-center"},[n("br"),t._v(" "),n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h1",[t._v("Cargando...")]),t._v(" "),n("p",[t._v(t._s(t.loadingMsg))])],1):t._e(),t._v(" "),n("b-list-group",[n("b-list-group-item",{attrs:{button:"",disabled:""}},[t._v("A nombre de "+t._s(t.grupoFamiliar.name)+", DNI: "+t._s(t.grupoFamiliar.main_id_number))])],1),t._v(" "),n("br"),t._v(" "),n("h3",[t._v("Detalle")]),t._v(" "),n("table",[t._l(t.invoice_lines,function(e){return n("tr",{key:e.key},[n("td",[t._v(t._s(e.order_partner_id[1])+" - "+t._s(e.product_id[1]))]),t._v(" "),n("td",[n("b",[t._v("$ "+t._s(e.price_unit))])])])}),t._v(" "),n("tr",{staticStyle:{"border-top":"1px solid #eee","font-weight":"bold"}},[n("td",{staticStyle:{"text-align":"right"}},[t._v("Total:")]),t._v(" "),n("td",[t._v("$ "+t._s(t.total))])])],2),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.crearFactura()}}},[t._v("Crear Factura Borrador")]),t._v(" "),n("br")],1)],1),t._v(" "),n("br"),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.volver()}}},[t._v("Volver")])],1)},staticRenderFns:[]},Et=n("VU/8")($t,Pt,!1,null,null,null).exports,Mt={data:function(){return{datos:{},datosMes:[],pago_id:!1,mes_pagos:!1,facturado:!1,loading:!0,partnerOdoo:{},foundOdooPartner:!1,loadingMsg:""}},created:function(){var t=f()(h.a.mark(function t(){var e,n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=window.location.href,n=new URLSearchParams(e.substring(e.indexOf("?"))),this.pago_id=n.get("id"),this.mes_pagos=n.get("mes"),console.log(this.mes_pagos),void 0==this.pago_id){t.next=15;break}return t.next=8,it(this.pago_id);case 8:return this.datos=t.sent,this.datos=this.datos.data,t.next=12,O(this.datos.grupo.id);case 12:this.partnerOdoo=t.sent,""!=this.partnerOdoo.data&&(this.partnerOdoo=this.partnerOdoo.data,this.foundOdooPartner=!0),console.log(this.datos);case 15:if(void 0==this.mes_pagos){t.next=22;break}return console.log(this.mes_pagos),t.next=19,st(this.mes_pagos);case 19:this.datosMes=t.sent,this.datosMes=this.datosMes.data,console.log(this.datosMes);case 22:this.loading=!1;case 23:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{verFact:function(){window.location.replace("https://ifei.moogah.com/web?#id=9625&view_type=form&model=account.invoice&menu_id=156&action=220")},facturarTodo:function(){var t=f()(h.a.mark(function t(){var e,n,a,r,o,i,s,c;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loading=!0,console.log(this.datosMes),e={},n=0;case 4:if(!(n<this.datosMes.length)){t.next=65;break}return e=this.datosMes[n],console.log(e),t.next=9,it(e.id);case 9:return this.datos=t.sent,this.datos=this.datos.data,t.next=13,O(this.datos.grupo.id);case 13:if(this.partnerOdoo=t.sent,""==this.partnerOdoo.data){t.next=20;break}console.log("OldPartner",this.partnerOdoo),this.partnerOdoo=this.partnerOdoo.data,this.foundOdooPartner=!0,t.next=28;break;case 20:return t.next=22,V({x_neptuno_id:"gf"+this.datos.grupo.id,name:"Familia "+this.datos.grupo.apellido,main_id_number:this.datos.grupo.dni,email:this.datos.grupo.email_padre});case 22:return this.partnerOdoo=t.sent,t.next=25,O(this.datos.grupo.id);case 25:this.partnerOdoo=t.sent,this.partnerOdoo=this.partnerOdoo.data,console.log("NewPartner",this.partnerOdoo);case 28:return console.log(this.datos),console.log("line 165",this.partnerOdoo),t.next=32,q({id:this.partnerOdoo.id});case 32:this.invoice=t.sent,console.log(this.invoice),a=!0,r=!1,o=void 0,t.prev=37,i=St()(this.datos.movs);case 39:if(a=(s=i.next()).done){t.next=46;break}return c=s.value,t.next=43,L(this.invoice.data.Result,c);case 43:a=!0,t.next=39;break;case 46:t.next=52;break;case 48:t.prev=48,t.t0=t.catch(37),r=!0,o=t.t0;case 52:t.prev=52,t.prev=53,!a&&i.return&&i.return();case 55:if(t.prev=55,!r){t.next=58;break}throw o;case 58:return t.finish(55);case 59:return t.finish(52);case 60:return t.next=62,ct({pago_id:e.id,invoice_id:this.invoice.data.Result});case 62:n++,t.next=4;break;case 65:case"end":return t.stop()}},t,this,[[37,48,52,60],[53,,55,59]])}));return function(){return t.apply(this,arguments)}}(),facturar:function(){var t=f()(h.a.mark(function t(){var e,n,a,r,o,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,console.log(this.datos),console.log(this.partnerOdoo),t.next=5,q({id:this.partnerOdoo.id});case 5:this.invoice=t.sent,console.log(this.invoice),e=!0,n=!1,a=void 0,t.prev=10,r=St()(this.datos.movs);case 12:if(e=(o=r.next()).done){t.next=19;break}return i=o.value,t.next=16,L(this.invoice.data.Result,i);case 16:e=!0,t.next=12;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(10),n=!0,a=t.t0;case 25:t.prev=25,t.prev=26,!e&&r.return&&r.return();case 28:if(t.prev=28,!n){t.next=31;break}throw a;case 31:return t.finish(28);case 32:return t.finish(25);case 33:return t.next=35,ct({pago_id:this.pago_id,invoice_id:this.invoice.data.Result});case 35:this.loading=!1;case 36:case"end":return t.stop()}},t,this,[[10,21,25,33],[26,,28,32]])}));return function(){return t.apply(this,arguments)}}(),crearPartner:function(){var t=f()(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,V({x_neptuno_id:"gf"+this.datos.grupo.id,name:"Familia "+this.datos.grupo.apellido,main_id_number:this.datos.grupo.dni,email:this.datos.grupo.email_padre});case 3:this.partnerOdoo=t.sent,location.reload();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},Nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[t.mes_pagos?n("b-container",[t.loading?n("div",{staticClass:"container-fluid text-center"},[n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h1",[t._v("Cargando...")]),t._v(" "),n("h3",[t._v(t._s(t.loadingMsg))])],1):t._e(),t._v(" "),t.loading?t._e():n("div",[n("h3",[t._v("Facturar mes")]),t._v(" "),n("button",{on:{click:function(e){return t.facturarTodo()}}},[t._v("Facturar MEs")])])]):t._e(),t._v(" "),t.pago_id&&t.datos.pago.odoo_id?n("b-container",[n("button",{on:{click:function(e){return t.verFact()}}},[t._v("ver factura en odoo")])]):t._e(),t._v(" "),t.pago_id&&!t.datos.pago.odoo_id?n("b-container",[n("h3",[t._v("Crear Factura, Pago id #"+t._s(t.pago_id))]),t._v(" "),t.loading?n("div",{staticClass:"container-fluid text-center"},[n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}}),t._v(" "),n("h1",[t._v("Cargando...")])],1):t._e(),t._v(" "),t.loading?t._e():n("b-card",{attrs:{header:"Contacto de facturación:",disabled:""}},[n("b-row",[n("h5",[t._v("Datos Neptuno")])]),t._v(" "),n("b-row",[n("b-col",[t._v("\n          Apellido\n          "),n("br"),t._v(" "),n("b",[t._v(t._s(t.datos.grupo.apellido))])]),t._v(" "),n("b-col",[t._v("\n          Nombre\n          "),n("br"),t._v(" "),n("b",[t._v(t._s(t.datos.grupo.padre))])]),t._v(" "),n("b-col",[t._v("\n          DNI\n          "),n("br"),t._v(" "),n("b",[t._v(t._s(t.datos.grupo.direccion_trabajo_madre))])]),t._v(" "),n("b-col",[t._v("\n          Email\n          "),n("br"),t._v(" "),n("b",[t._v(t._s(t.datos.grupo.email_padre))])])],1),t._v(" "),n("b-row",[n("h5",[t._v("Datos Odoo")])]),t._v(" "),t.foundOdooPartner?n("b-row",[n("b-col",[t._v("\n          Nombre\n          "),n("br"),t._v(" "),n("b",[t._v(t._s(t.partnerOdoo.name))])]),t._v(" "),n("b-col",[t._v("\n          DNI\n          "),n("br"),t._v(" "),n("b",[t._v(t._s(t.partnerOdoo.main_id_number))])]),t._v(" "),n("b-col",[t._v("\n          Email\n          "),n("br"),t._v(" "),n("b",[t._v(t._s(t.partnerOdoo.email))])])],1):t._e(),t._v(" "),t.foundOdooPartner?t._e():n("b-row",{staticStyle:{"text-align":"center"}},[n("h6",[t._v("Sin contacto en Odoo")])]),t._v(" "),t.foundOdooPartner?t._e():n("b-row",{staticStyle:{"text-align":"center"}},[n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.crearPartner()}}},[t._v("Crear Contacto en Odoo")])],1)],1),t._v(" "),t.loading?t._e():n("b-card",{attrs:{header:"Conceptos a facturar:",disabled:""}},t._l(this.datos.movs,function(e,a){return n("b-list-group",{key:"mov"+a},[n("b-list-group-item",[t._v("\n          "+t._s(e.descripcion)+",\n          "),n("b",[t._v("$ "+t._s(e.pesos))])])],1)}),1),t._v(" "),!t.loading&&t.foundOdooPartner?n("b-row",[n("b-col",{staticStyle:{"text-align":"center","padding-top":"25px"}},[n("b-button",{attrs:{size:"lg",variant:"outline-primary"},on:{click:function(e){return t.facturar()}}},[t._v("Facturar")])],1)],1):t._e()],1):t._e()],1)},staticRenderFns:[]},Dt=[{path:"/",component:X},{path:"/informacion_de_contacto",component:tt},{path:"/informacion_de_alumnos",component:at},{path:"/grupo_familiar",component:dt},{path:"/alumnos",component:_t},{path:"/clases",component:ft},{path:"/confirm_so",component:kt},{path:"/preinscripcion",component:pt},{path:"/crear_contacto",component:Ct},{path:"/seleccionar_horario",component:Vt},{path:"/facturar",component:Et},{path:"/pagos",component:n("VU/8")(Mt,Nt,!1,null,null,null).exports}],Rt=new i.a({routes:Dt});s.default.use(o.a),s.default.use(a.a),s.default.use(i.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:Rt,components:{App:p},template:"<App/>"})},OXx8:function(t,e){},iEXf:function(t,e){},pcV0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.03386b92e36c50bc3ba6.js.map